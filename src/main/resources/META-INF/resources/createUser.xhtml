<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Benutzer erstellen</title>
    </h:head>
    <h:body>
        <h:form id="userCreateForm">
            <f:event listener="#{createUserView.initialize}" type="preRenderView" />               
                <p:growl id="msg" showDetail="true" life="3000" />
                <p:panel header="Benutzer erstellen und Ã¤ndern" style="width: 360px;">     
                    <h:panelGrid id="createPanel" columns="2">    
                        <h:outputText value="Benutzername:" />     
                        <p:inputText id="userName" value="#{benutzer.userName}" required="true"></p:inputText>
                        <p:spacer></p:spacer>     
                        <p:message for="userName" ></p:message>     
                        <h:outputText value="Email:" />     
                        <p:inputText id="email" value="#{benutzer.emailAddress}" required="true"></p:inputText>
                        <p:spacer></p:spacer>     
                        <p:message for="email"></p:message>     
                        <p:spacer></p:spacer>
                        <p:message for="email" ></p:message> 
                        <h:outputText value="Rolle:" />
                        <h:selectOneMenu value="#{benutzer.role}"
                        converter="#{roleConverterBean}">
                            <f:selectItems value="#{createUserView.options}" />
                        </h:selectOneMenu>  
                        <p:spacer></p:spacer>    
                        <h:outputText value="Passwort:" />     
                        <p:inputText id="password" value="#{benutzer.password}"></p:inputText>
                        <p:commandButton action="#{benutzer.generatePassword()}" value="Neues Passwort"></p:commandButton>
                        <p:spacer></p:spacer>    
                        <p:commandButton action="#{benutzer.createUser}" value="Speichern" update="userCreateForm" ajax="true"></p:commandButton>
                        <p:commandButton onclick="history.go(-1)" value="Abbrechen" immediate="true"></p:commandButton>
                    
                    </h:panelGrid>     
                </p:panel>     
            </h:form>
            
    </h:body>  
</html>